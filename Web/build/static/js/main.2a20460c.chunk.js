(this["webpackJsonpuse-state-example"]=this["webpackJsonpuse-state-example"]||[]).push([[0],{12:function(e,s,c){},129:function(e,s,c){},13:function(e,s,c){},130:function(e,s,c){},131:function(e,s,c){"use strict";c.r(s);var a=c(0),t=c(1),n=c.n(t),l=c(67),r=c.n(l),i=(c(75),c(2)),d=c(4),j=c(7),o=c(5),b=c.p+"static/media/cm-main-img.b9a05542.png",m=(c(12),c(13),c(14),c(15),window.location.href.split(":")),u=m="https"===m[0]?"https://envycle.herokuapp.com":"http://localhost:5000",h=c(3),x=c.n(h);x.a.defaults.withCredentials=!0;var O=n.a.createContext(),p=n.a.createContext(),v=function(){return Object(t.useContext)(O)},N=function(){return Object(t.useContext)(p)};function g(e){var s=e.children,c=Object(t.useState)({user:null,loginStatus:!1,role:null}),n=Object(o.a)(c,2),l=n[0],r=n[1];return Object(t.useEffect)((function(){console.log("url is=> ",u),x()({method:"get",url:u+"/profile"}).then((function(e){r((function(s){return Object(j.a)(Object(j.a)({},s),{},{loginStatus:!0,user:e.data.profile,role:e.data.profile.role})}))}),(function(e){r((function(e){return Object(j.a)(Object(j.a)({},e),{},{loginStatus:!1})}))}))}),[]),Object(a.jsx)(O.Provider,{value:l,children:Object(a.jsx)(p.Provider,{value:r,children:s})})}x.a.defaults.withCredentials=!0;var f=function(){var e=N(),s=Object(t.useState)(),c=Object(o.a)(s,2),n=c[0],l=c[1],r=Object(t.useRef)(),d=Object(t.useRef)();return Object(a.jsx)("div",{className:"wrapper",children:Object(a.jsxs)("div",{className:"wrapper",children:[Object(a.jsx)("div",{className:"sign-in-page",children:Object(a.jsx)("div",{className:"signin-popup",children:Object(a.jsx)("div",{className:"signin-pop",children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-lg-6",children:Object(a.jsxs)("div",{className:"cmp-info",children:[Object(a.jsxs)("div",{className:"cm-logo",children:[Object(a.jsx)("img",{src:"",alt:""}),Object(a.jsx)("p",{children:" Envycle, Recycle your materials through our application"})]}),Object(a.jsx)("img",{src:b,alt:""})]})}),Object(a.jsx)("div",{className:"col-lg-6",children:Object(a.jsxs)("div",{className:"login-sec",children:[Object(a.jsxs)("ul",{className:"sign-control",children:[Object(a.jsx)("li",{"data-tab":"tab-1",className:"current",children:Object(a.jsx)(i.b,{to:"/",children:"Sign in "})}),Object(a.jsxs)("li",{children:[" ",Object(a.jsx)(i.b,{to:"/signup",children:"Signup "})," "]})]}),Object(a.jsxs)("div",{className:"sign_in_sec current",id:"tab-1",children:[Object(a.jsx)("h3",{children:"Sign in"}),Object(a.jsx)("div",{className:"signup-tab",children:Object(a.jsx)("ul",{style:{color:"red"},children:null===n?"":n})}),Object(a.jsx)("form",{onSubmit:function(s){return function(s){s.preventDefault(),x()({method:"post",url:u+"/auth/login",data:{userEmail:r.current.value,userPassword:d.current.value}}).then((function(s){e((function(e){return Object(j.a)(Object(j.a)({},e),{},{loginStatus:!0,user:{userEmail:s.data.user.userEmail,userName:s.data.user.userName,points:s.data.user.points},role:s.data.user.role})}))}),(function(e){alert(e.response.data.message),l("User not found")}))}(s)},children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-lg-12 no-pdd",children:Object(a.jsxs)("div",{className:"sn-field",children:[Object(a.jsx)("input",{autoComplete:"on",ref:r,type:"email",name:"email",placeholder:"Enter Email"}),Object(a.jsx)("i",{className:"la la-user"})]})}),Object(a.jsx)("div",{className:"col-lg-12 no-pdd",children:Object(a.jsxs)("div",{className:"sn-field",children:[Object(a.jsx)("input",{ref:d,type:"password",name:"password",placeholder:"Enter Password"}),Object(a.jsx)("i",{className:"la la-lock"})]})}),Object(a.jsx)("div",{className:"col-lg-12 no-pdd",children:Object(a.jsx)("div",{className:"checky-sec",children:Object(a.jsx)("div",{className:"fgt-sec",children:Object(a.jsx)(i.b,{to:"/forget-password",children:Object(a.jsx)("small",{children:"Forgot password?"})})})})}),Object(a.jsx)("div",{className:"col-lg-12 no-pdd",children:Object(a.jsx)("button",{type:"submit",value:"submit",children:"Sign in"})})]})})]})]})})]})})})}),Object(a.jsx)("div",{className:"footy-sec",children:Object(a.jsx)("div",{className:"container"})})]})})};function y(){var e=n.a.useState(),s=Object(o.a)(e,2),c=s[0],l=s[1],r=Object(t.useRef)(),d=Object(t.useRef)();return Object(a.jsx)("div",{className:"wrapper",children:Object(a.jsxs)("div",{className:"wrapper",children:[Object(a.jsx)("div",{className:"sign-in-page",children:Object(a.jsx)("div",{className:"signin-popup",children:Object(a.jsx)("div",{className:"signin-pop",children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-lg-6",children:Object(a.jsxs)("div",{className:"cmp-info",children:[Object(a.jsxs)("div",{className:"cm-logo",children:[Object(a.jsx)("img",{src:"",alt:""}),Object(a.jsx)("p",{children:" Signup"})]}),Object(a.jsx)("img",{src:b,alt:""})]})}),Object(a.jsx)("div",{className:"col-lg-6",children:Object(a.jsxs)("div",{className:"login-sec",children:[Object(a.jsxs)("ul",{className:"sign-control",children:[Object(a.jsxs)("li",{children:[" ",Object(a.jsx)(i.b,{to:"/",children:"Sigin "})]}),Object(a.jsx)("li",{"data-tab":"tab-2",className:"current",children:Object(a.jsx)(i.b,{to:"/signup",children:"Signup "})})]}),Object(a.jsxs)("div",{className:"sign_in_sec current",id:"tab-2",children:[Object(a.jsx)("h3",{children:"Sign Up"}),Object(a.jsxs)("div",{className:"signup-tab",children:[Object(a.jsx)("i",{className:"fa fa-long-arrow-left"}),Object(a.jsx)("ul",{children:null===c?"":c})]}),Object(a.jsx)("div",{className:"dff-tab current",id:"tab-3",children:Object(a.jsx)("form",{onSubmit:function(e){return function(e){e.preventDefault();var s,c=document.getElementById("firstName").value,a=document.getElementById("lastName").value,t=(c=c.charAt(0)+c.slice(1))+" "+(a=a.charAt(0)+a.slice(1));s=document.getElementById("male").checked?"male":"female",x()({method:"post",url:u+"/auth/signup",data:{userName:t,userEmail:r.current.value.toLowerCase(),userPassword:d.current.value,gender:s}}).then((function(e){console.log("response",e),l("Signed up successfully")}),(function(e){l(e.response.data.message)}))}(e)},children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-lg-12 no-pdd",children:Object(a.jsxs)("div",{className:"sn-field",children:[Object(a.jsx)("input",{required:!0,id:"firstName",autoComplete:"on",type:"text",name:"name",placeholder:"First Name"}),Object(a.jsx)("i",{className:"la la-user"})]})}),Object(a.jsx)("div",{className:"col-lg-12 no-pdd",children:Object(a.jsxs)("div",{className:"sn-field",children:[Object(a.jsx)("input",{required:!0,id:"lastName",autoComplete:"on",type:"text",name:"name",placeholder:"Last Name"}),Object(a.jsx)("i",{className:"la la-user"})]})}),Object(a.jsx)("div",{className:"col-lg-12 no-pdd",children:Object(a.jsxs)("div",{className:"sn-field",children:[Object(a.jsx)("input",{required:!0,autoComplete:"on",ref:r,type:"email",placeholder:"Enter email"}),Object(a.jsx)("i",{className:"la la-lock"})]})}),Object(a.jsx)("div",{className:"col-lg-12 no-pdd",children:Object(a.jsxs)("div",{className:"sn-field",children:[Object(a.jsx)("input",{required:!0,ref:d,autoComplete:"on",type:"password",name:"password",placeholder:"Password"}),Object(a.jsx)("i",{className:"la la-lock"})]})}),Object(a.jsxs)("div",{className:"col-lg-12",children:[Object(a.jsx)("label",{style:{marginLeft:10},children:" Male: "}),Object(a.jsx)("input",{type:"radio",name:"gender",value:"Male",class:"radioBtn",style:{marginLeft:5},id:"male",required:!0}),Object(a.jsx)("label",{style:{marginLeft:10},children:"Female: "}),Object(a.jsx)("input",{type:"radio",name:"gender",value:"Female",class:"radioBtn",style:{marginLeft:5},required:!0})]}),Object(a.jsx)("div",{className:"col-lg-12 no-pdd",children:Object(a.jsx)("button",{type:"submit",value:"submit",children:"Get Started"})})]})})})]})]})})]})})})}),Object(a.jsx)("div",{className:"footy-sec",children:Object(a.jsx)("div",{className:"container"})})]})})}c(23),c(24),c(25),c(26),c(27);var w=c(69),k=u,E=c.n(w)()(k);function S(){v();var e=N();return Object(a.jsx)("span",{className:"navbar-text",onClick:function(){x()({method:"post",url:"".concat(u,"/logout")}).then((function(s){e((function(e){return Object(j.a)(Object(j.a)({},e),{},{loginStatus:!1,user:null,role:null})}))}),(function(e){console.log("error=>",e)}))},children:Object(a.jsxs)("a",{href:"#",className:"nav-link logout",title:"",children:[Object(a.jsx)("span",{children:Object(a.jsx)("i",{className:"fa fa-sign-out","aria-hidden":"true"})}),"Logout"]})})}function q(){var e=v(),s=Object(t.useState)([]),c=Object(o.a)(s,2),n=c[0],l=c[1],r=Object(t.useState)(!1),d=Object(o.a)(r,2),j=d[0],b=d[1];Object(t.useEffect)((function(){var e=[];x()({method:"get",url:"".concat(u,"/getOrders")}).then((function(s){s.data.placedRequests.map((function(s){"Pending"===s.status&&e.push(s)})),l(e)}),(function(e){console.log("an error occured")})),E.on("requests",(function(e){b(!j)}))}),[j]);return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"wrapper",children:[Object(a.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(a.jsx)("a",{className:"navbar-brand",href:"#",children:e.user.userName}),Object(a.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(a.jsx)("span",{className:"navbar-toggler-icon"})}),Object(a.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarText",children:[Object(a.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(a.jsx)("li",{className:"nav-item active",children:Object(a.jsx)(i.b,{to:"/",children:Object(a.jsxs)("a",{className:"nav-link",children:["Home ",Object(a.jsx)("span",{className:"sr-only",children:"(current)"})]})})}),Object(a.jsx)("li",{className:"nav-item ",children:Object(a.jsx)(i.b,{to:"/checkorders",children:Object(a.jsxs)("a",{className:"nav-link",children:["See Orders",Object(a.jsx)("span",{className:"sr-only"})]})})}),Object(a.jsx)("li",{className:"nav-item active",children:Object(a.jsx)(i.b,{to:"/add-restaurant",children:Object(a.jsxs)("a",{className:"nav-link",children:["Add Restaurant",Object(a.jsx)("span",{className:"sr-only"})]})})}),Object(a.jsx)("li",{className:"nav-item active",children:Object(a.jsx)(i.b,{to:"/add-product",children:Object(a.jsxs)("a",{className:"nav-link",children:["Add Product",Object(a.jsx)("span",{className:"sr-only"})]})})})]}),Object(a.jsx)(S,{})]})]}),Object(a.jsx)("main",{children:Object(a.jsx)("div",{className:"main-section",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"main-section-data",children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-lg-3 col-md-4 pd-left-none no-pd",children:Object(a.jsx)("div",{className:"main-left-sidebar no-margin",children:Object(a.jsx)("div",{className:"user-data full-width",children:Object(a.jsxs)("div",{className:"user-profile",children:[Object(a.jsx)("div",{className:"username-dt",children:Object(a.jsx)("div",{className:"usr-pic"})}),Object(a.jsx)("div",{className:"user-specs",children:Object(a.jsx)("h3",{children:e.user.userName})})]})})})}),Object(a.jsx)("div",{className:"col-lg-6 col-md-8 no-pd",children:Object(a.jsxs)("div",{className:"main-ws-sec",children:[Object(a.jsx)("div",{className:"post-topbar"}),Object(a.jsx)("div",{children:n.reverse().map((function(e,s){var c=e.cart,t=e.userEmail,l=(e.total,e.phoneNo),r=e.address,i=e.remarks;return Object(a.jsx)("div",{className:"card text-center",style:{width:"18rem"},children:Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("h5",{className:"card-title",children:t}),Object(a.jsx)("h6",{className:"card-title",children:l}),Object(a.jsx)("h6",{children:r}),i?Object(a.jsxs)("small",{children:["Remarks: ",i]}):"",c.map((function(e,s){return Object(a.jsx)("ul",{children:Object(a.jsx)("li",{children:Object(a.jsxs)("p",{children:[e.product," ",Object(a.jsxs)("b",{children:[" qty : ",e.quantity]})]})})},s)})),Object(a.jsx)("button",{onClick:function(){return function(e){console.log(n[e]._id),x()({method:"patch",url:"".concat(u,"/confirmOrder"),data:{id:n[e]._id,userEmail:n[e].userEmail}}).then((function(e){alert("Order confirmed"),b(!j)})).catch((function(e){console.log("error is=>",e)}))}(s)},className:"btn btn-primary ml-3",children:"Accept Order"}),Object(a.jsx)("button",{onClick:function(){return function(e){console.log(n[e]._id),x()({method:"patch",url:"".concat(u,"/declineOrder"),data:{id:n[e]._id}}).then((function(e){alert("order Declined"),b(!j)})).catch((function(e){console.log("error is=>",e)}))}(s)},className:"btn btn-danger ",children:"Decline Order"})]})},s)}))})]})})]})})})})})]})})}var R=c(22);c(129),c(130);function C(){var e=v(),s=Object(t.useState)([]),c=Object(o.a)(s,2),n=c[0],l=c[1],r=Object(t.useState)("Cart"),d=Object(o.a)(r,2),j=d[0],b=d[1],m=Object(t.useRef)(),h=Object(t.useRef)(),O=Object(t.useRef)(),p=Object(t.useState)([]),N=Object(o.a)(p,2),g=N[0],f=N[1];return Object(t.useEffect)((function(){x()({method:"get",url:"".concat(u,"/get-materials")}).then((function(e){console.log("",e.data.materials),f(e.data.materials)})).catch((function(e){}))}),[]),Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"wrapper",children:[Object(a.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(a.jsx)("a",{className:"navbar-brand",href:"#",children:e.user.userName}),Object(a.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(a.jsx)("span",{className:"navbar-toggler-icon"})}),Object(a.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarText",children:[Object(a.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(a.jsx)("li",{className:"nav-item active",children:Object(a.jsx)(i.b,{to:"/",children:Object(a.jsxs)("a",{className:"nav-link",children:["Home ",Object(a.jsx)("span",{className:"sr-only",children:"(current)"})]})})}),Object(a.jsx)("li",{className:"nav-item active",children:Object(a.jsx)(i.b,{to:"/my-requests",children:Object(a.jsxs)("a",{className:"nav-link",children:["See Orders",Object(a.jsx)("span",{className:"sr-only"})]})})}),Object(a.jsx)("li",{className:"nav-item active",children:Object(a.jsx)(i.b,{to:"/redeem-voucher",children:Object(a.jsxs)("a",{className:"nav-link",children:["Redeem Voucher",Object(a.jsx)("span",{className:"sr-only"})]})})})]}),Object(a.jsx)(S,{})]})]}),Object(a.jsx)("main",{children:Object(a.jsx)("div",{className:"main-section",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"main-section-data",children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-lg-8 col-md-8 no-pd col-sm-12 col-xs-12",children:Object(a.jsx)("div",{className:"main-ws-sec",children:Object(a.jsx)("div",{className:"posts-section",children:Object(a.jsx)("div",{className:"row",children:g.map((function(e,s){return Object(a.jsxs)("div",{className:"card mr-2 mt-2 mx-auto text-center",style:{width:"15rem"},children:[Object(a.jsx)("img",{src:e.url,className:"material",alt:"..."}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("div",{className:"gradient-img"}),Object(a.jsx)("h4",{className:"product-name",style:{backgroundColor:"black",color:"white"},children:e.name})]}),Object(a.jsx)("button",{onClick:e.added?function(){}:function(c){return function(e,s){var c=Object(R.a)(g);c[s].added=!0,f(c);var a={product:e.name,quantity:5};l([].concat(Object(R.a)(n),[a])),b("Cart (minimum 20kg)")}(e,s)},className:"cart-btn",children:e.added?"Added":"Add Item"})]},s)}))})})})}),Object(a.jsx)("div",{className:"col-lg-4 pd-right-none no-pd",children:Object(a.jsxs)("div",{className:"right-sidebar",children:[Object(a.jsxs)("div",{className:"widget widget-about",children:[Object(a.jsx)("img",{src:"images/wd-logo.png",alt:""}),Object(a.jsx)("h3",{id:"order-message",children:j}),Object(a.jsx)("div",{className:"sign_link",children:Object(a.jsxs)("div",{className:"card text-center",style:{width:"18rem",margin:"0 auto"},children:[n.map((function(e,s){return Object(a.jsxs)("div",{class:"card-body",children:[Object(a.jsxs)("h5",{class:"card-title",children:[e.product," (kg)"]}),Object(a.jsxs)("div",{className:"quantity buttons_added",children:[Object(a.jsx)("input",{onClick:e.quantity>0?function(e){return function(e){if(n[e].quantity>5){var s=Object(R.a)(n);s[e].quantity-=5,l(s)}else{for(var c=0;c<g.length;c++)if(n[e].product===g[c].product){var a=Object(R.a)(g);a[c].added=!1,f(a)}var t=Object(R.a)(n);t.splice(e,1),f(a),l(t)}}(s)}:function(){},type:"button",defaultValue:"-",className:"minus"}),Object(a.jsx)("input",{style:{textAlign:"center",width:34},type:"text",value:e.quantity,className:"input-text qty text",disabled:!0}),Object(a.jsx)("input",{onClick:function(e){return function(e){var s=Object(R.a)(n);s[e].quantity+=5,l(s)}(s)},type:"button",defaultValue:"+",className:"plus"})]})]})})),n.length>0?Object(a.jsxs)("form",{onSubmit:n.length>0?function(e){return function(e){e.preventDefault();var s=0;if(n.map((function(e){s+=e.quantity})),s<20)return b("Include 20KG atleast"),void(document.getElementById("order-message").style.color="red");console.log("phone number",h.current.value),console.log("remarks",O.current.value),x()({method:"post",url:"".concat(u,"/place-order"),data:{cart:n,address:m.current.value,phoneNo:h.current.value,quantity:s,remarks:O.current.value}}).then((function(e){console.log("response is = > ",e.data),b("Your order has been placed"),document.getElementById("order-message").style.color="black",n.map((function(e){e.quantity=0,l([])}))}),(function(e){console.log("an error occured")})),g.map((function(e){return e.added=!1}))}(e)}:function(){},children:[Object(a.jsxs)("div",{className:"form-row",children:[Object(a.jsxs)("div",{className:"form-group col-md-10 mx-auto",children:[Object(a.jsx)("label",{htmlFor:"inputEmail4",children:"Enter Address"}),Object(a.jsx)("input",{ref:m,required:!0,type:"name",className:"form-control",id:"inputEmail4",placeholder:"Pickup Address"})]}),Object(a.jsxs)("div",{className:"form-group col-md-10 mx-auto",children:[Object(a.jsx)("label",{htmlFor:"inputPassword4",children:"Enter Phone Number"}),Object(a.jsx)("input",{ref:h,required:!0,type:"text",className:"form-control",placeholder:"Enter Phone"})]})]}),Object(a.jsxs)("div",{className:"form-group col-md-12",children:[Object(a.jsx)("label",{htmlFor:"exampleFormControlTextarea1",children:"Your Message here"}),Object(a.jsx)("textarea",{className:"form-control",rows:3,defaultValue:"",ref:O,placeholder:"Enter remarks"})]}),Object(a.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Place Request"})]}):""]})})]}),Object(a.jsx)("hr",{})]})})]})})})})})]})})}function T(){var e=v(),s=n.a.useState([]),c=Object(o.a)(s,2),l=c[0],r=c[1];return Object(t.useEffect)((function(){x()({method:"get",url:"".concat(u,"/myorders")}).then((function(e){console.log("my orders , ",e),r(e.data.placedRequests)}),(function(e){console.log("an error occured")}))}),[]),Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"wrapper",children:[Object(a.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(a.jsx)("a",{className:"navbar-brand",href:"#",children:e.user.userName}),Object(a.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(a.jsx)("span",{className:"navbar-toggler-icon"})}),Object(a.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarText",children:[Object(a.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(a.jsx)("li",{className:"nav-item active",children:Object(a.jsx)(i.b,{to:"/",children:Object(a.jsxs)("a",{className:"nav-link",children:["Home ",Object(a.jsx)("span",{className:"sr-only",children:"(current)"})]})})}),Object(a.jsx)("li",{className:"nav-item active",children:Object(a.jsx)(i.b,{to:"/my-requests",children:Object(a.jsxs)("a",{className:"nav-link",children:["See Orders",Object(a.jsx)("span",{className:"sr-only"})]})})}),Object(a.jsx)("li",{className:"nav-item active",children:Object(a.jsx)(i.b,{to:"/redeem-voucher",children:Object(a.jsxs)("a",{className:"nav-link",children:["Redeem Voucher",Object(a.jsx)("span",{className:"sr-only"})]})})})]}),Object(a.jsx)(S,{})]})]}),Object(a.jsx)("main",{children:Object(a.jsx)("div",{className:"card text-center mx-auto",style:{width:"28rem"},children:Object(a.jsx)("div",{className:"card-body mx-auto",children:Object(a.jsx)("div",{children:l.reverse().map((function(e,s){var c=e.cart,t=(e.total,e.phoneNo),n=e.address,l=e.status;return Object(a.jsx)("div",{className:"card text-center",style:{width:"18rem"},children:Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsxs)("h4",{children:["Status: ",Object(a.jsx)("b",{className:"Pending"===l?"text-warning":"Declined"===l?"text-danger":"text-success",children:l})," "]}),Object(a.jsx)("h4",{className:"card-title",children:t}),Object(a.jsx)("h4",{className:"card-title",children:n}),c.map((function(e,s){return Object(a.jsx)("ul",{children:Object(a.jsx)("li",{children:Object(a.jsxs)("p",{children:[e.product," ",Object(a.jsxs)("b",{children:[" x ",e.quantity," KG"]})]})})},s)}))]})},s)}))})})})})]})})}x.a.defaults.withCredentials=!0;var I=function(){var e=Object(d.f)(),s=Object(t.useRef)(),c=Object(t.useRef)(),n=Object(t.useRef)(),l=Object(t.useRef)(),r=Object(t.useState)(!1),j=Object(o.a)(r,2),m=j[0],h=j[1],O=Object(t.useState)(),p=Object(o.a)(O,2),v=p[0],N=p[1];return Object(t.useEffect)((function(){s.current.style.display="none",document.getElementById("otp").style.display="none"}),[]),Object(a.jsx)("div",{className:"wrapper",children:Object(a.jsxs)("div",{className:"wrapper",children:[Object(a.jsx)("div",{className:"sign-in-page",children:Object(a.jsx)("div",{className:"signin-popup",children:Object(a.jsx)("div",{className:"signin-pop",children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-lg-6",children:Object(a.jsx)("div",{className:"cmp-info",children:Object(a.jsxs)("div",{className:"cm-logo",children:[Object(a.jsx)("img",{src:"",alt:""}),Object(a.jsx)("p",{children:" We Deal in Electronic items"}),Object(a.jsx)("img",{src:b,alt:""})]})})}),Object(a.jsx)("div",{className:"col-lg-6",children:Object(a.jsxs)("div",{className:"login-sec",children:[Object(a.jsxs)("ul",{className:"sign-control",children:[Object(a.jsx)("li",{"data-tab":"tab-1",className:"current",children:Object(a.jsx)(i.b,{to:"/",children:"Sign in "})}),Object(a.jsxs)("li",{children:[" ",Object(a.jsx)(i.b,{to:"/signup",children:"Signup "})," "]})]}),Object(a.jsxs)("div",{className:"sign_in_sec current",id:"tab-1",children:[Object(a.jsxs)("h3",{children:[!1===m?"Enter email":"Enter new password"," "]}),Object(a.jsxs)("div",{className:"signup-tab",children:[Object(a.jsx)("i",{className:"fa fa-long-arrow-left"}),Object(a.jsx)("ul",{})]}),Object(a.jsx)("form",{onSubmit:function(a){return!1===m?function(e){e.preventDefault(),x()({method:"post",url:"".concat(u,"/auth/forget-password"),data:{userEmail:n.current.value}}).then((function(e){alert("check your email"),N(n.current.value),n.current.value="",s.current.style.display="initial",l.current.style.display="initial",n.current.style.display="none",document.getElementById("otp").style.display="initial",h(!0)}),(function(e){console.log("an error occured")}))}(a):function(s){s.preventDefault(),console.log("forgot email=>",v),x()({method:"post",url:u+"/auth/forget-password-step-2",data:{userEmail:v,otp:l.current.value,newPassword:c.current.value}}).then((function(s){e.push("/"),alert("Password changed succesfully"),h(!0)}),(function(e){alert("wrong otp or error")}))}(a)},children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-lg-12 no-pdd",children:Object(a.jsxs)("div",{className:"sn-field",children:[Object(a.jsx)("input",{autoComplete:"on",ref:n,type:"email",name:"email",placeholder:"Enter Email"}),Object(a.jsx)("i",{className:"la la-user"})]})}),Object(a.jsx)("div",{ref:s,className:"col-lg-12 no-pdd",children:Object(a.jsxs)("div",{className:"sn-field",children:[Object(a.jsx)("input",{ref:c,type:"password",name:"password",placeholder:"Enter New Password"}),Object(a.jsx)("i",{className:"la la-lock"})]})}),Object(a.jsx)("div",{id:"otp",className:"col-lg-12 no-pdd",children:Object(a.jsxs)("div",{className:"sn-field",children:[Object(a.jsx)("input",{ref:l,type:"text",name:"password",placeholder:"Enter Otp"}),Object(a.jsx)("i",{className:"la la-lock"})]})}),Object(a.jsx)("div",{className:"col-lg-12 no-pdd",children:Object(a.jsx)("button",{children:!1===m?"Proceed":"Change Password"})})]})})]})]})})]})})})}),Object(a.jsx)("div",{className:"footy-sec",children:Object(a.jsx)("div",{className:"container"})})]})})};function P(){var e=n.a.useState([]),s=Object(o.a)(e,2),c=s[0],l=s[1],r=n.a.useState(),d=Object(o.a)(r,2),b=d[0],m=d[1],h=v(),O=N();Object(t.useEffect)((function(){x()({method:"get",url:"".concat(u,"/get-restaurants")}).then((function(e){l(e.data.restaurants),console.log("response is =>",e.data.restaurants)})).catch((function(e){alert("server error please refresh page or check internet")}))}),[b]);return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"wrapper",children:[Object(a.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(a.jsx)("a",{className:"navbar-brand",href:"#",children:JSON.stringify(h)}),Object(a.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(a.jsx)("span",{className:"navbar-toggler-icon"})}),Object(a.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarText",children:[Object(a.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(a.jsx)("li",{className:"nav-item active",children:Object(a.jsx)(i.b,{to:"/",children:Object(a.jsxs)("a",{className:"nav-link",children:["Home ",Object(a.jsx)("span",{className:"sr-only",children:"(current)"})]})})}),Object(a.jsx)("li",{className:"nav-item active",children:Object(a.jsx)(i.b,{to:"/my-requests",children:Object(a.jsxs)("a",{className:"nav-link",children:["See Orders",Object(a.jsx)("span",{className:"sr-only"})]})})}),Object(a.jsx)("li",{className:"nav-item active",children:Object(a.jsx)(i.b,{to:"/redeem-voucher",children:Object(a.jsxs)("a",{className:"nav-link",children:["Redeem Voucher",Object(a.jsx)("span",{className:"sr-only"})]})})})]}),Object(a.jsx)(S,{})]})]}),Object(a.jsx)("main",{children:c.map((function(e,s){var t=e.name,n=e.location,l=(e.passcode,e.discount,e.points),r=e._id;return Object(a.jsx)("div",{className:"card mx-auto",style:{width:"18rem"},children:Object(a.jsxs)("div",{className:"card-body text-center",children:[Object(a.jsx)("h5",{className:"card-title",children:t}),Object(a.jsx)("p",{className:"card-text",children:n}),Object(a.jsx)("small",{className:"card-text",children:parseInt(h.user.points)>=l?"DISCLAIMER : To avail the voucher visit ".concat(t," they will enter passcode for discount"):"Points required ".concat(l)}),h.user.points>=l?Object(a.jsx)("br",{}):null,h.user.points>=l?Object(a.jsx)("input",{id:"passcode",placeholder:"Restaurant passcode"}):null,Object(a.jsx)("button",{onClick:h.user.points>=l?function(){return function(e,s){x()({method:"post",url:"".concat(u,"/redeem-voucher"),data:{id:e,passcode:document.getElementById("passcode").value}}).then((function(e){console.log("response is=> ",e.data),O((function(a){return Object(j.a)(Object(j.a)({},a),{},{loginStatus:!0,user:Object(j.a)(Object(j.a)({},h.user),{},{points:c[s].points-h.user.points}),role:e.data.user.role})})),m("done")})).catch((function(e){m("done"),console.log("response is=> ",e.response)}))}(r,s)}:function(){},className:"btn btn-primary",children:parseInt(h.user.points)>=l?"Reddem ".concat(t," Voucher"):"Need ".concat(l-h.user.points," Point to Redeem")})]})},s)}))})]})})}function B(){var e=v();return Object(a.jsxs)("div",{className:"wrapper",children:[Object(a.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(a.jsx)("a",{className:"navbar-brand",href:"#",children:e.user.userName}),Object(a.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(a.jsx)("span",{className:"navbar-toggler-icon"})}),Object(a.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarText",children:[Object(a.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(a.jsx)("li",{className:"nav-item active",children:Object(a.jsx)(i.b,{to:"/",children:Object(a.jsxs)("a",{className:"nav-link",children:["Home ",Object(a.jsx)("span",{className:"sr-only",children:"(current)"})]})})}),Object(a.jsx)("li",{className:"nav-item active",children:Object(a.jsx)(i.b,{to:"/checkorders",children:Object(a.jsxs)("a",{className:"nav-link",children:["See Orders",Object(a.jsx)("span",{className:"sr-only"})]})})}),Object(a.jsx)("li",{className:"nav-item active",children:Object(a.jsx)(i.b,{to:"/add-restaurant",children:Object(a.jsxs)("a",{className:"nav-link",children:["Add Restaurant",Object(a.jsx)("span",{className:"sr-only"})]})})}),Object(a.jsx)("li",{className:"nav-item active",children:Object(a.jsx)(i.b,{to:"/add-product",children:Object(a.jsxs)("a",{className:"nav-link",children:["Add Product",Object(a.jsx)("span",{className:"sr-only"})]})})})]}),Object(a.jsx)(S,{})]})]}),Object(a.jsx)("main",{children:Object(a.jsx)("div",{className:"main-section",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"main-section-data",children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-lg-3 col-md-4 pd-left-none no-pd",children:Object(a.jsx)("div",{className:"main-left-sidebar no-margin",children:Object(a.jsx)("div",{className:"user-data full-width",children:Object(a.jsxs)("div",{className:"user-profile",children:[Object(a.jsx)("div",{className:"username-dt",children:Object(a.jsx)("div",{className:"usr-pic"})}),Object(a.jsx)("div",{className:"user-specs",children:Object(a.jsx)("h3",{children:"Add Restaurant"})})]})})})}),Object(a.jsx)("div",{className:"col-lg-6 col-md-8 no-pd",children:Object(a.jsx)("div",{className:"main-ws-sec",children:Object(a.jsx)("form",{onSubmit:function(e){e.preventDefault(),x()({method:"post",url:u+"/add-restaurant",data:{name:document.getElementById("name").value,location:document.getElementById("location").value,passcode:document.getElementById("passcode").value,discount:document.getElementById("discount").value,points:document.getElementById("points").value}}).then((function(e){console.log("response",e),alert("added succesfully")}),(function(e){alert(e),console.log("error is=>",e)}))},children:Object(a.jsxs)("div",{className:"form-row align-items-center",children:[Object(a.jsx)("div",{className:"col-md-5",children:Object(a.jsx)("input",{type:"text",className:"form-control mb-2",id:"name",placeholder:"Restaurant Name"})}),Object(a.jsx)("div",{className:"col-md-5",children:Object(a.jsx)("div",{className:"input-group mb-2",children:Object(a.jsx)("input",{type:"text",className:"form-control",id:"location",placeholder:"Location"})})}),Object(a.jsx)("div",{className:"col-md-5",children:Object(a.jsx)("div",{className:"input-group mb-2",children:Object(a.jsx)("input",{type:"type",className:"form-control",id:"passcode",placeholder:"Voucher passcode"})})}),Object(a.jsx)("div",{className:"col-md-5",children:Object(a.jsx)("div",{className:"input-group mb-2",children:Object(a.jsx)("input",{type:"text",className:"form-control",id:"discount",placeholder:"Discount to be given"})})}),Object(a.jsx)("div",{className:"col-md-5",children:Object(a.jsx)("div",{className:"input-group mb-2",children:Object(a.jsx)("input",{type:"text",className:"form-control",id:"points",placeholder:"Voucher points"})})}),Object(a.jsx)("div",{className:"col-md-12 mx-auto ",children:Object(a.jsx)("button",{type:"submit",className:"btn btn-primary mb-2",children:"Add Restaurant"})})]})})})})]})})})})})]})}function A(){var e=v();return Object(a.jsxs)("div",{className:"wrapper",children:[Object(a.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(a.jsx)("a",{className:"navbar-brand",href:"#",children:e.user.userName}),Object(a.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(a.jsx)("span",{className:"navbar-toggler-icon"})}),Object(a.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarText",children:[Object(a.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(a.jsx)("li",{className:"nav-item active",children:Object(a.jsx)(i.b,{to:"/",children:Object(a.jsxs)("a",{className:"nav-link",children:["Home ",Object(a.jsx)("span",{className:"sr-only",children:"(current)"})]})})}),Object(a.jsx)("li",{className:"nav-item active",children:Object(a.jsx)(i.b,{to:"/checkorders",children:Object(a.jsxs)("a",{className:"nav-link",children:["See Orders",Object(a.jsx)("span",{className:"sr-only"})]})})}),Object(a.jsx)("li",{className:"nav-item active",children:Object(a.jsx)(i.b,{to:"/add-restaurant",children:Object(a.jsxs)("a",{className:"nav-link",children:["Add Restaurant",Object(a.jsx)("span",{className:"sr-only"})]})})}),Object(a.jsx)("li",{className:"nav-item active",children:Object(a.jsx)(i.b,{to:"/add-product",children:Object(a.jsxs)("a",{className:"nav-link",children:["Add Product",Object(a.jsx)("span",{className:"sr-only"})]})})})]}),Object(a.jsx)(S,{})]})]}),Object(a.jsx)("main",{children:Object(a.jsx)("div",{className:"main-section",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"main-section-data",children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-lg-3 col-md-4 pd-left-none no-pd",children:Object(a.jsx)("div",{className:"main-left-sidebar no-margin",children:Object(a.jsx)("div",{className:"user-data full-width",children:Object(a.jsxs)("div",{className:"user-profile",children:[Object(a.jsx)("div",{className:"username-dt",children:Object(a.jsx)("div",{className:"usr-pic"})}),Object(a.jsx)("div",{className:"user-specs",children:Object(a.jsx)("h3",{children:"Add New Materials"})})]})})})}),Object(a.jsx)("div",{className:"col-lg-6 col-md-8 no-pd",children:Object(a.jsx)("div",{className:"main-ws-sec",children:Object(a.jsx)("form",{onSubmit:function(e){console.log("url is=>",u),e.preventDefault(),x()({method:"post",url:"".concat(u,"/add-materials"),data:{name:document.getElementById("name").value,url:document.getElementById("imageurl").value}}).then((function(e){console.log("response",e),alert("added succesfully"),document.getElementById("imageurl").value="",document.getElementById("name").value=""}),(function(e){alert(e),console.log("error is=>",e)}))},children:Object(a.jsxs)("div",{className:"form-row align-items-center",children:[Object(a.jsx)("div",{className:"col-md-5",children:Object(a.jsx)("input",{type:"text",className:"form-control mb-2",id:"name",placeholder:"Material Name"})}),Object(a.jsx)("div",{className:"col-md-5",children:Object(a.jsx)("div",{className:"input-group mb-2",children:Object(a.jsx)("input",{type:"text",className:"form-control",id:"imageurl",placeholder:"Image url"})})}),Object(a.jsx)("div",{className:"col-md-12 mx-auto ",children:Object(a.jsx)("button",{type:"submit",className:"btn btn-primary mb-2",children:"Add Material"})})]})})})})]})})})})})]})}function D(){var e=v();return Object(a.jsxs)(i.a,{children:[!1===e.loginStatus?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(d.b,{exact:!0,path:"/",children:Object(a.jsx)(f,{})}),Object(a.jsx)(d.b,{path:"/signup",children:Object(a.jsx)(y,{})}),Object(a.jsx)(d.b,{path:"/forget-password",children:Object(a.jsx)(I,{})}),Object(a.jsx)(d.b,{path:"*",children:Object(a.jsx)(d.a,{to:"/"})})]}):null,"user"===e.role&&!0===e.loginStatus?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(d.b,{exact:!0,path:"/",children:Object(a.jsx)(C,{})}),Object(a.jsx)(d.b,{exact:!0,path:"/my-requests",children:Object(a.jsx)(T,{})}),Object(a.jsx)(d.b,{exact:!0,path:"/redeem-voucher",children:Object(a.jsx)(P,{})}),Object(a.jsx)(d.b,{path:"*",children:Object(a.jsx)(d.a,{to:"/"})})]}):null,"admin"===e.role&&!0===e.loginStatus?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(d.b,{exact:!0,path:"/",children:Object(a.jsx)(q,{})}),Object(a.jsx)(d.b,{path:"/add-restaurant",children:Object(a.jsx)(B,{})}),Object(a.jsx)(d.b,{path:"/add-product",children:Object(a.jsx)(A,{})}),Object(a.jsx)(d.b,{path:"*",children:Object(a.jsx)(d.a,{to:"/"})})]}):null]})}function _(){return Object(a.jsx)(D,{})}r.a.render(Object(a.jsx)(g,{children:Object(a.jsx)(_,{})}),document.getElementById("root"))},14:function(e,s,c){},15:function(e,s,c){},23:function(e,s,c){},24:function(e,s,c){},25:function(e,s,c){},26:function(e,s,c){},27:function(e,s,c){},75:function(e,s,c){}},[[131,1,2]]]);
//# sourceMappingURL=main.2a20460c.chunk.js.map