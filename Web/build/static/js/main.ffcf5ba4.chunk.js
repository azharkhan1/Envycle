(this["webpackJsonpuse-state-example"]=this["webpackJsonpuse-state-example"]||[]).push([[0],{12:function(e,s,a){},13:function(e,s,a){},130:function(e,s,a){},131:function(e,s,a){},132:function(e,s,a){"use strict";a.r(s);var c=a(0),t=a(1),n=a.n(t),l=a(68),r=a.n(l),i=(a(76),a(2)),d=a(5),j=a(7),o=a(4),b=a.p+"static/media/cm-main-img.b9a05542.png",m=(a(12),a(13),a(14),a(15),window.location.href.split(":")),u=m="https"===m[0]?"https://envycle.herokuapp.com":"http://localhost:5000",h=a(3),x=a.n(h);x.a.defaults.withCredentials=!0;var O=n.a.createContext(),p=n.a.createContext(),v=function(){return Object(t.useContext)(O)},N=function(){return Object(t.useContext)(p)};function g(e){var s=e.children,a=Object(t.useState)({user:null,loginStatus:!1,role:null}),n=Object(o.a)(a,2),l=n[0],r=n[1];return Object(t.useEffect)((function(){console.log("url is=> ",u),x()({method:"get",url:u+"/profile"}).then((function(e){r((function(s){return Object(j.a)(Object(j.a)({},s),{},{loginStatus:!0,user:e.data.profile,role:e.data.profile.role})}))}),(function(e){r((function(e){return Object(j.a)(Object(j.a)({},e),{},{loginStatus:!1})}))}))}),[]),Object(c.jsx)(O.Provider,{value:l,children:Object(c.jsx)(p.Provider,{value:r,children:s})})}x.a.defaults.withCredentials=!0;var f=function(){var e=N(),s=Object(t.useState)(),a=Object(o.a)(s,2),n=a[0],l=a[1],r=Object(t.useRef)(),d=Object(t.useRef)();return Object(c.jsx)("div",{className:"wrapper",children:Object(c.jsxs)("div",{className:"wrapper",children:[Object(c.jsx)("div",{className:"sign-in-page",children:Object(c.jsx)("div",{className:"signin-popup",children:Object(c.jsx)("div",{className:"signin-pop",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-lg-6",children:Object(c.jsxs)("div",{className:"cmp-info",children:[Object(c.jsxs)("div",{className:"cm-logo",children:[Object(c.jsx)("img",{src:"",alt:""}),Object(c.jsx)("p",{children:" Envycle, Recycle your materials through our application"})]}),Object(c.jsx)("img",{src:b,alt:""})]})}),Object(c.jsx)("div",{className:"col-lg-6",children:Object(c.jsxs)("div",{className:"login-sec",children:[Object(c.jsxs)("ul",{className:"sign-control",children:[Object(c.jsx)("li",{"data-tab":"tab-1",className:"current",children:Object(c.jsx)(i.b,{to:"/",children:"Sign in "})}),Object(c.jsxs)("li",{children:[" ",Object(c.jsx)(i.b,{to:"/signup",children:"Signup "})," "]})]}),Object(c.jsxs)("div",{className:"sign_in_sec current",id:"tab-1",children:[Object(c.jsx)("h3",{children:"Sign in"}),Object(c.jsx)("div",{className:"signup-tab",children:Object(c.jsx)("ul",{style:{color:"red"},children:null===n?"":n})}),Object(c.jsx)("form",{onSubmit:function(s){return function(s){s.preventDefault(),x()({method:"post",url:u+"/auth/login",data:{userEmail:r.current.value,userPassword:d.current.value}}).then((function(s){e((function(e){return Object(j.a)(Object(j.a)({},e),{},{loginStatus:!0,user:{userEmail:s.data.user.userEmail,userName:s.data.user.userName,points:s.data.user.points},role:s.data.user.role})}))}),(function(e){alert(e.response.data.message),l("User not found")}))}(s)},children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-lg-12 no-pdd",children:Object(c.jsxs)("div",{className:"sn-field",children:[Object(c.jsx)("input",{autoComplete:"on",ref:r,type:"email",name:"email",placeholder:"Enter Email"}),Object(c.jsx)("i",{className:"la la-user"})]})}),Object(c.jsx)("div",{className:"col-lg-12 no-pdd",children:Object(c.jsxs)("div",{className:"sn-field",children:[Object(c.jsx)("input",{ref:d,type:"password",name:"password",placeholder:"Enter Password"}),Object(c.jsx)("i",{className:"la la-lock"})]})}),Object(c.jsx)("div",{className:"col-lg-12 no-pdd",children:Object(c.jsx)("div",{className:"checky-sec",children:Object(c.jsx)("div",{className:"fgt-sec",children:Object(c.jsx)(i.b,{to:"/forget-password",children:Object(c.jsx)("small",{children:"Forgot password?"})})})})}),Object(c.jsx)("div",{className:"col-lg-12 no-pdd",children:Object(c.jsx)("button",{type:"submit",value:"submit",children:"Sign in"})})]})})]})]})})]})})})}),Object(c.jsx)("div",{className:"footy-sec",children:Object(c.jsx)("div",{className:"container"})})]})})};function y(){var e=n.a.useState(),s=Object(o.a)(e,2),a=s[0],l=s[1],r=Object(t.useRef)(),d=Object(t.useRef)();return Object(c.jsx)("div",{className:"wrapper",children:Object(c.jsxs)("div",{className:"wrapper",children:[Object(c.jsx)("div",{className:"sign-in-page",children:Object(c.jsx)("div",{className:"signin-popup",children:Object(c.jsx)("div",{className:"signin-pop",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-lg-6",children:Object(c.jsxs)("div",{className:"cmp-info",children:[Object(c.jsxs)("div",{className:"cm-logo",children:[Object(c.jsx)("img",{src:"",alt:""}),Object(c.jsx)("p",{children:" Signup"})]}),Object(c.jsx)("img",{src:b,alt:""})]})}),Object(c.jsx)("div",{className:"col-lg-6",children:Object(c.jsxs)("div",{className:"login-sec",children:[Object(c.jsxs)("ul",{className:"sign-control",children:[Object(c.jsxs)("li",{children:[" ",Object(c.jsx)(i.b,{to:"/",children:"Sigin "})]}),Object(c.jsx)("li",{"data-tab":"tab-2",className:"current",children:Object(c.jsx)(i.b,{to:"/signup",children:"Signup "})})]}),Object(c.jsxs)("div",{className:"sign_in_sec current",id:"tab-2",children:[Object(c.jsx)("h3",{children:"Sign Up"}),Object(c.jsxs)("div",{className:"signup-tab",children:[Object(c.jsx)("i",{className:"fa fa-long-arrow-left"}),Object(c.jsx)("ul",{children:null===a?"":a})]}),Object(c.jsx)("div",{className:"dff-tab current",id:"tab-3",children:Object(c.jsx)("form",{onSubmit:function(e){return function(e){e.preventDefault();var s,a=document.getElementById("firstName").value,c=document.getElementById("lastName").value,t=(a=a.charAt(0)+a.slice(1))+" "+(c=c.charAt(0)+c.slice(1));s=document.getElementById("male").checked?"male":"female",x()({method:"post",url:u+"/auth/signup",data:{userName:t,userEmail:r.current.value.toLowerCase(),userPassword:d.current.value,gender:s}}).then((function(e){console.log("response",e),l("Signed up successfully")}),(function(e){l(e.response.data.message)}))}(e)},children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-lg-12 no-pdd",children:Object(c.jsxs)("div",{className:"sn-field",children:[Object(c.jsx)("input",{required:!0,id:"firstName",autoComplete:"on",type:"text",name:"name",placeholder:"First Name"}),Object(c.jsx)("i",{className:"la la-user"})]})}),Object(c.jsx)("div",{className:"col-lg-12 no-pdd",children:Object(c.jsxs)("div",{className:"sn-field",children:[Object(c.jsx)("input",{required:!0,id:"lastName",autoComplete:"on",type:"text",name:"name",placeholder:"Last Name"}),Object(c.jsx)("i",{className:"la la-user"})]})}),Object(c.jsx)("div",{className:"col-lg-12 no-pdd",children:Object(c.jsxs)("div",{className:"sn-field",children:[Object(c.jsx)("input",{required:!0,autoComplete:"on",ref:r,type:"email",placeholder:"Enter email"}),Object(c.jsx)("i",{className:"la la-lock"})]})}),Object(c.jsx)("div",{className:"col-lg-12 no-pdd",children:Object(c.jsxs)("div",{className:"sn-field",children:[Object(c.jsx)("input",{required:!0,ref:d,autoComplete:"on",type:"password",name:"password",placeholder:"Password"}),Object(c.jsx)("i",{className:"la la-lock"})]})}),Object(c.jsxs)("div",{className:"col-lg-12",children:[Object(c.jsx)("label",{style:{marginLeft:10},children:" Male: "}),Object(c.jsx)("input",{type:"radio",name:"gender",value:"Male",class:"radioBtn",style:{marginLeft:5},id:"male",required:!0}),Object(c.jsx)("label",{style:{marginLeft:10},children:"Female: "}),Object(c.jsx)("input",{type:"radio",name:"gender",value:"Female",class:"radioBtn",style:{marginLeft:5},required:!0})]}),Object(c.jsx)("div",{className:"col-lg-12 no-pdd",children:Object(c.jsx)("button",{type:"submit",value:"submit",children:"Get Started"})})]})})})]})]})})]})})})}),Object(c.jsx)("div",{className:"footy-sec",children:Object(c.jsx)("div",{className:"container"})})]})})}a(23),a(24),a(25),a(26),a(27);var w=a(70),k=u,E=a.n(w)()(k);function S(){v();var e=N();return Object(c.jsx)("span",{className:"navbar-text",onClick:function(){x()({method:"post",url:"".concat(u,"/logout")}).then((function(s){e((function(e){return Object(j.a)(Object(j.a)({},e),{},{loginStatus:!1,user:null,role:null})}))}),(function(e){console.log("error=>",e)}))},children:Object(c.jsxs)("a",{href:"#",className:"nav-link logout",title:"",children:[Object(c.jsx)("span",{children:Object(c.jsx)("i",{className:"fa fa-sign-out","aria-hidden":"true"})}),"Logout"]})})}function q(){var e=v(),s=Object(t.useState)([]),a=Object(o.a)(s,2),n=a[0],l=a[1],r=Object(t.useState)(!1),d=Object(o.a)(r,2),j=d[0],b=d[1];Object(t.useEffect)((function(){var e=[];x()({method:"get",url:"".concat(u,"/getOrders")}).then((function(s){s.data.placedRequests.map((function(s){"Pending"===s.status&&e.push(s)})),l(e)}),(function(e){console.log("an error occured")})),E.on("requests",(function(e){b(!j)}))}),[j]);return Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"wrapper",children:[Object(c.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(c.jsx)("a",{className:"navbar-brand",href:"#",children:e.user.userName}),Object(c.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(c.jsx)("span",{className:"navbar-toggler-icon"})}),Object(c.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarText",children:[Object(c.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(c.jsx)("li",{className:"nav-item active",children:Object(c.jsx)(i.b,{to:"/",children:Object(c.jsxs)("a",{className:"nav-link",children:["Home ",Object(c.jsx)("span",{className:"sr-only",children:"(current)"})]})})}),Object(c.jsx)("li",{className:"nav-item ",children:Object(c.jsx)(i.b,{to:"/checkorders",children:Object(c.jsxs)("a",{className:"nav-link",children:["See Orders",Object(c.jsx)("span",{className:"sr-only"})]})})}),Object(c.jsx)("li",{className:"nav-item active",children:Object(c.jsx)(i.b,{to:"/add-restaurant",children:Object(c.jsxs)("a",{className:"nav-link",children:["Add Restaurant",Object(c.jsx)("span",{className:"sr-only"})]})})}),Object(c.jsx)("li",{className:"nav-item active",children:Object(c.jsx)(i.b,{to:"/add-product",children:Object(c.jsxs)("a",{className:"nav-link",children:["Add Product",Object(c.jsx)("span",{className:"sr-only"})]})})})]}),Object(c.jsx)(S,{})]})]}),Object(c.jsx)("main",{children:Object(c.jsx)("div",{className:"main-section",children:Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{className:"main-section-data",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-lg-3 col-md-4 pd-left-none no-pd",children:Object(c.jsx)("div",{className:"main-left-sidebar no-margin",children:Object(c.jsx)("div",{className:"user-data full-width",children:Object(c.jsxs)("div",{className:"user-profile",children:[Object(c.jsx)("div",{className:"username-dt",children:Object(c.jsx)("div",{className:"usr-pic"})}),Object(c.jsx)("div",{className:"user-specs",children:Object(c.jsx)("h3",{children:e.user.userName})})]})})})}),Object(c.jsx)("div",{className:"col-lg-6 col-md-8 no-pd",children:Object(c.jsxs)("div",{className:"main-ws-sec",children:[Object(c.jsx)("div",{className:"post-topbar"}),Object(c.jsx)("div",{children:n.reverse().map((function(e,s){var a=e.cart,t=e.userEmail,l=(e.total,e.phoneNo),r=e.address,i=e.remarks;return Object(c.jsx)("div",{className:"card",style:{width:"rem",margin:"0 auto"},children:Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("span",{children:"Email : "}),Object(c.jsx)("span",{className:"float-right",children:t})]}),Object(c.jsx)("hr",{}),Object(c.jsxs)("div",{className:"mt-3 mb-1",children:[Object(c.jsx)("span",{children:"Phone : "}),Object(c.jsx)("span",{className:"float-right",children:l})]}),Object(c.jsx)("hr",{}),Object(c.jsxs)("div",{className:"mt-3",children:[Object(c.jsx)("span",{children:"Address : "}),Object(c.jsx)("span",{className:"float-right",children:r})]}),Object(c.jsx)("hr",{}),a.map((function(e,s){return Object(c.jsx)("ul",{children:Object(c.jsx)("li",{children:Object(c.jsxs)("div",{className:"mt-2",children:[Object(c.jsx)("span",{className:"card-title",children:"Product : "}),Object(c.jsxs)("span",{className:"float-right",children:[e.product,"  ",e.quantity," kg"]})]})})},s)})),i?Object(c.jsx)("div",{className:"text-center",children:Object(c.jsxs)("small",{children:["Remarks: ",i]})}):"",Object(c.jsxs)("div",{className:"text-center mt-4",children:[Object(c.jsx)("button",{onClick:function(){return function(e){console.log(n[e]._id),x()({method:"patch",url:"".concat(u,"/confirmOrder"),data:{id:n[e]._id,userEmail:n[e].userEmail}}).then((function(e){alert("Order confirmed"),b(!j)})).catch((function(e){console.log("error is=>",e)}))}(s)},className:"btn btn-primary ml-3  text-center",children:"Accept Order"}),Object(c.jsx)("button",{onClick:function(){return function(e){console.log(n[e]._id),x()({method:"patch",url:"".concat(u,"/declineOrder"),data:{id:n[e]._id}}).then((function(e){alert("order Declined"),b(!j)})).catch((function(e){console.log("error is=>",e)}))}(s)},className:"btn btn-danger ml-3 text-center",children:"Decline Order"})]})]})},s)}))})]})})]})})})})})]})})}var R=a(22);a(130),a(131);function C(){var e=v(),s=Object(t.useState)([]),a=Object(o.a)(s,2),n=a[0],l=a[1],r=Object(t.useState)([]),d=Object(o.a)(r,2),j=d[0],b=d[1],m=Object(t.useState)(!0),h=Object(o.a)(m,2),O=h[0],p=h[1],N=Object(t.useState)("Cart"),g=Object(o.a)(N,2),f=g[0],y=g[1],w=Object(t.useRef)(),k=Object(t.useRef)(),E=Object(t.useRef)();return Object(t.useEffect)((function(){x()({method:"get",url:"".concat(u,"/get-materials")}).then((function(e){console.log("",e.data.materials),l(e.data.materials)})).catch((function(e){alert("some error occoured")}))}),[O]),Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"wrapper",children:[Object(c.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("a",{className:"navbar-brand",href:"#",children:e.user.userName}),Object(c.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(c.jsx)("span",{className:"navbar-toggler-icon"})}),Object(c.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarText",children:[Object(c.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(c.jsx)("li",{className:"nav-item active",children:Object(c.jsx)(i.b,{to:"/",children:Object(c.jsxs)("a",{className:"nav-link",children:["Home ",Object(c.jsx)("span",{className:"sr-only",children:"(current)"})]})})}),Object(c.jsx)("li",{className:"nav-item active",children:Object(c.jsx)(i.b,{to:"/my-requests",children:Object(c.jsxs)("a",{className:"nav-link",children:["See Orders",Object(c.jsx)("span",{className:"sr-only"})]})})}),Object(c.jsx)("li",{className:"nav-item active",children:Object(c.jsx)(i.b,{to:"/redeem-voucher",children:Object(c.jsxs)("a",{className:"nav-link",children:["Redeem Voucher",Object(c.jsx)("span",{className:"sr-only"})]})})})]}),Object(c.jsx)(S,{})]})]})}),Object(c.jsx)("main",{children:Object(c.jsx)("div",{className:"main-section",children:Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{className:"main-section-data",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-lg-8 col-md-8 no-pd col-sm-12 col-xs-12",children:Object(c.jsx)("div",{className:"main-ws-sec",children:Object(c.jsx)("div",{className:"posts-section",children:Object(c.jsx)("div",{className:"row",children:n.map((function(e,s){return Object(c.jsxs)("div",{className:"card mr-2 mt-2 mx-auto text-center",style:{width:"15rem"},children:[Object(c.jsx)("img",{src:e.url,className:"material",alt:"..."}),Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("div",{className:"gradient-img"}),Object(c.jsx)("h4",{className:"product-name",style:{backgroundColor:"black",color:"white"},children:e.name})]}),Object(c.jsx)("button",{onClick:e.added?function(){}:function(a){return function(e,s){var a=Object(R.a)(n);a[s].added=!0,l(a);var c={product:e.name,quantity:5};b([].concat(Object(R.a)(j),[c])),y("Cart (minimum 20kg)")}(e,s)},className:"cart-btn",children:e.added?"Added":"Add Item"})]},s)}))})})})}),Object(c.jsx)("div",{className:"col-lg-4 pd-right-none no-pd",children:Object(c.jsxs)("div",{className:"right-sidebar",children:[Object(c.jsxs)("div",{className:"widget widget-about",children:[Object(c.jsx)("img",{src:"images/wd-logo.png",alt:""}),Object(c.jsx)("h3",{id:"order-message",children:f}),Object(c.jsx)("div",{className:"sign_link",children:Object(c.jsxs)("div",{className:"card text-center",style:{width:"18rem",margin:"0 auto"},children:[j.map((function(e,s){return Object(c.jsxs)("div",{class:"card-body",children:[Object(c.jsxs)("h5",{class:"card-title",children:[e.product," (kg)"]}),Object(c.jsxs)("div",{className:"quantity buttons_added",children:[Object(c.jsx)("input",{onClick:e.quantity>0?function(e){return function(e){if(j[e].quantity>5){var s=Object(R.a)(j);s[e].quantity-=5,b(s)}else{for(var a=0;a<n.length;a++)if(j[e].product===n[a].product){var c=Object(R.a)(n);c[a].added=!1,l(c)}var t=Object(R.a)(j);p(!O),t.splice(e,1),b(t)}}(s)}:function(){},type:"button",defaultValue:"-",className:"minus"}),Object(c.jsx)("input",{style:{textAlign:"center",width:34},type:"text",value:e.quantity,className:"input-text qty text",disabled:!0}),Object(c.jsx)("input",{onClick:function(e){return function(e){var s=Object(R.a)(j);s[e].quantity+=5,b(s)}(s)},type:"button",defaultValue:"+",className:"plus"})]})]},s)})),j.length>0?Object(c.jsxs)("form",{onSubmit:j.length>0?function(e){return function(e){e.preventDefault();var s=0;if(j.map((function(e){s+=e.quantity})),s<20)return y("Include 20KG atleast"),void(document.getElementById("order-message").style.color="red");x()({method:"post",url:"".concat(u,"/place-order"),data:{cart:j,address:w.current.value,phoneNo:k.current.value,quantity:s,remarks:E.current.value}}).then((function(e){console.log("response is = > ",e.data),y("Your order has been placed"),document.getElementById("order-message").style.color="black",j.map((function(e){e.quantity=0,b([])}))}),(function(e){console.log("an error occured")})),n.map((function(e){return e.added=!1}))}(e)}:function(){},children:[Object(c.jsxs)("div",{className:"form-row",children:[Object(c.jsxs)("div",{className:"form-group col-md-10 mx-auto",children:[Object(c.jsx)("label",{htmlFor:"inputEmail4",children:"Enter Address"}),Object(c.jsx)("input",{ref:w,required:!0,type:"name",className:"form-control",id:"inputEmail4",placeholder:"Pickup Address"})]}),Object(c.jsxs)("div",{className:"form-group col-md-10 mx-auto",children:[Object(c.jsx)("label",{htmlFor:"inputPassword4",children:"Enter Phone Number"}),Object(c.jsx)("input",{ref:k,required:!0,type:"text",className:"form-control",placeholder:"Enter Phone"})]})]}),Object(c.jsxs)("div",{className:"form-group col-md-12",children:[Object(c.jsx)("label",{htmlFor:"exampleFormControlTextarea1",children:"Your Message here"}),Object(c.jsx)("textarea",{className:"form-control",rows:3,defaultValue:"",ref:E,placeholder:"Enter remarks"})]}),Object(c.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Place Request"})]}):""]})})]}),Object(c.jsx)("hr",{})]})})]})})})})})]})})}function P(){var e=v(),s=n.a.useState([]),a=Object(o.a)(s,2),l=a[0],r=a[1],d=n.a.useState(!0),j=Object(o.a)(d,2),b=j[0],m=j[1];Object(t.useEffect)((function(){x()({method:"get",url:"".concat(u,"/myorders")}).then((function(e){var s=e.data.placedRequests.slice().reverse();r(s)}),(function(e){console.log("an error occured")}))}),[b]);return Object(c.jsxs)("div",{children:[Object(c.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light mb-5",children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("a",{className:"navbar-brand",href:"#",children:e.user.userName}),Object(c.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(c.jsx)("span",{className:"navbar-toggler-icon"})}),Object(c.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarText",children:[Object(c.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(c.jsx)("li",{className:"nav-item active",children:Object(c.jsx)(i.b,{to:"/",children:Object(c.jsxs)("a",{className:"nav-link",children:["Home ",Object(c.jsx)("span",{className:"sr-only",children:"(current)"})]})})}),Object(c.jsx)("li",{className:"nav-item active",children:Object(c.jsx)(i.b,{to:"/my-requests",children:Object(c.jsxs)("a",{className:"nav-link",children:["See Orders",Object(c.jsx)("span",{className:"sr-only"})]})})}),Object(c.jsx)("li",{className:"nav-item active",children:Object(c.jsx)(i.b,{to:"/redeem-voucher",children:Object(c.jsxs)("a",{className:"nav-link",children:["Redeem Voucher",Object(c.jsx)("span",{className:"sr-only"})]})})})]}),Object(c.jsx)(S,{})]})]})}),Object(c.jsx)("div",{className:"container ",children:Object(c.jsx)("div",{className:"row ",children:l.map((function(e,s){var a=e.cart,t=(e.total,e.phoneNo),n=e.address,l=e.status,r=e._id;return Object(c.jsx)("div",{className:"col-md-3 col-sm-12 ",children:Object(c.jsxs)("div",{className:"card-body mb-4",style:{boxShadow:"0 0 6px grey",height:"300px"},children:[Object(c.jsxs)("div",{className:"mt-2 px-2 py-2",children:[Object(c.jsx)("span",{className:"float-left",children:"Status:"})," ",Object(c.jsx)("span",{className:"Pending"===l?"text-warning float-right":"Declined"===l?"text-danger float-right":"text-success float-right",children:l})]}),Object(c.jsx)("hr",{}),Object(c.jsxs)("div",{className:"mt-2  px-2 py-2",children:[Object(c.jsx)("span",{className:"float-left",children:"Phone: "})," ",Object(c.jsx)("span",{className:"float-right",children:t})]}),Object(c.jsx)("hr",{}),Object(c.jsxs)("div",{className:"mb-2  px-2 py-2",children:[Object(c.jsx)("span",{className:"float-left",children:"Address: "})," ",Object(c.jsx)("span",{className:"float-right",children:n})]}),Object(c.jsx)("hr",{}),a.map((function(e,s){return Object(c.jsx)("ul",{children:Object(c.jsx)("li",{children:Object(c.jsxs)("p",{children:[e.product?e.product:e.name," ",Object(c.jsxs)("b",{children:[" x ",e.quantity," KG"]})]})})},s)})),"Pending"===l?Object(c.jsx)("div",{className:"text-center",children:Object(c.jsx)("button",{onClick:function(){return e=r,void x()({method:"delete",url:"".concat(u,"/delete-order"),data:{id:e}}).then((function(e){alert(e.data.message),m(!b)})).catch((function(e){alert("server error")}));var e},className:"btn btn-danger mb-2 w-100",children:"Cancel Request"})}):""]},s)})}))})})]})}x.a.defaults.withCredentials=!0;var T=function(){var e=Object(d.f)(),s=Object(t.useRef)(),a=Object(t.useRef)(),n=Object(t.useRef)(),l=Object(t.useRef)(),r=Object(t.useState)(!1),j=Object(o.a)(r,2),m=j[0],h=j[1],O=Object(t.useState)(),p=Object(o.a)(O,2),v=p[0],N=p[1];return Object(t.useEffect)((function(){s.current.style.display="none",document.getElementById("otp").style.display="none"}),[]),Object(c.jsx)("div",{className:"wrapper",children:Object(c.jsxs)("div",{className:"wrapper",children:[Object(c.jsx)("div",{className:"sign-in-page",children:Object(c.jsx)("div",{className:"signin-popup",children:Object(c.jsx)("div",{className:"signin-pop",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-lg-6",children:Object(c.jsx)("div",{className:"cmp-info",children:Object(c.jsxs)("div",{className:"cm-logo",children:[Object(c.jsx)("img",{src:"",alt:""}),Object(c.jsx)("p",{children:" We Deal in Electronic items"}),Object(c.jsx)("img",{src:b,alt:""})]})})}),Object(c.jsx)("div",{className:"col-lg-6",children:Object(c.jsxs)("div",{className:"login-sec",children:[Object(c.jsxs)("ul",{className:"sign-control",children:[Object(c.jsx)("li",{"data-tab":"tab-1",className:"current",children:Object(c.jsx)(i.b,{to:"/",children:"Sign in "})}),Object(c.jsxs)("li",{children:[" ",Object(c.jsx)(i.b,{to:"/signup",children:"Signup "})," "]})]}),Object(c.jsxs)("div",{className:"sign_in_sec current",id:"tab-1",children:[Object(c.jsxs)("h3",{children:[!1===m?"Enter email":"Enter new password"," "]}),Object(c.jsxs)("div",{className:"signup-tab",children:[Object(c.jsx)("i",{className:"fa fa-long-arrow-left"}),Object(c.jsx)("ul",{})]}),Object(c.jsx)("form",{onSubmit:function(c){return!1===m?function(e){e.preventDefault(),x()({method:"post",url:"".concat(u,"/auth/forget-password"),data:{userEmail:n.current.value}}).then((function(e){alert("check your email"),N(n.current.value),n.current.value="",s.current.style.display="initial",l.current.style.display="initial",n.current.style.display="none",document.getElementById("otp").style.display="initial",h(!0)}),(function(e){console.log("an error occured")}))}(c):function(s){s.preventDefault(),console.log("forgot email=>",v),x()({method:"post",url:u+"/auth/forget-password-step-2",data:{userEmail:v,otp:l.current.value,newPassword:a.current.value}}).then((function(s){e.push("/"),alert("Password changed succesfully"),h(!0)}),(function(e){alert("wrong otp or error")}))}(c)},children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-lg-12 no-pdd",children:Object(c.jsxs)("div",{className:"sn-field",children:[Object(c.jsx)("input",{autoComplete:"on",ref:n,type:"email",name:"email",placeholder:"Enter Email"}),Object(c.jsx)("i",{className:"la la-user"})]})}),Object(c.jsx)("div",{ref:s,className:"col-lg-12 no-pdd",children:Object(c.jsxs)("div",{className:"sn-field",children:[Object(c.jsx)("input",{ref:a,type:"password",name:"password",placeholder:"Enter New Password"}),Object(c.jsx)("i",{className:"la la-lock"})]})}),Object(c.jsx)("div",{id:"otp",className:"col-lg-12 no-pdd",children:Object(c.jsxs)("div",{className:"sn-field",children:[Object(c.jsx)("input",{ref:l,type:"text",name:"password",placeholder:"Enter Otp"}),Object(c.jsx)("i",{className:"la la-lock"})]})}),Object(c.jsx)("div",{className:"col-lg-12 no-pdd",children:Object(c.jsx)("button",{children:!1===m?"Proceed":"Change Password"})})]})})]})]})})]})})})}),Object(c.jsx)("div",{className:"footy-sec",children:Object(c.jsx)("div",{className:"container"})})]})})},I=a(32);function A(){var e=n.a.useState([]),s=Object(o.a)(e,2),a=s[0],l=s[1],r=n.a.useState(),d=Object(o.a)(r,2),b=d[0],m=d[1],h=v(),O=N();Object(t.useEffect)((function(){x()({method:"get",url:"".concat(u,"/get-restaurants")}).then((function(e){l(e.data.restaurants),console.log("response is =>",e.data.restaurants)})).catch((function(e){alert("server error please refresh page or check internet")}))}),[b]);return Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"wrapper",children:[Object(c.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(c.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(c.jsx)("span",{className:"navbar-toggler-icon"})}),Object(c.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarText",children:[Object(c.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(c.jsx)("li",{className:"nav-item active",children:Object(c.jsx)(i.b,{to:"/",children:Object(c.jsxs)("a",{className:"nav-link",children:["Home ",Object(c.jsx)("span",{className:"sr-only",children:"(current)"})]})})}),Object(c.jsx)("li",{className:"nav-item active",children:Object(c.jsx)(i.b,{to:"/my-requests",children:Object(c.jsxs)("a",{className:"nav-link",children:["See Orders",Object(c.jsx)("span",{className:"sr-only"})]})})}),Object(c.jsx)("li",{className:"nav-item active",children:Object(c.jsx)(i.b,{to:"/redeem-voucher",children:Object(c.jsxs)("a",{className:"nav-link",children:["Redeem Voucher",Object(c.jsx)("span",{className:"sr-only"})]})})})]}),Object(c.jsx)(S,{})]})]}),Object(c.jsx)("main",{children:a.map((function(e,s){var t,n=e.name,l=e.location,r=(e.passcode,e.discount,e.points),i=e._id;return Object(c.jsx)("div",{className:"card mx-auto px-2 py-2 mb-3",style:{width:"18rem"},children:Object(c.jsxs)("div",{className:"card-body ",children:[Object(c.jsxs)("div",{className:"mt-2  px-2 py-2",children:[Object(c.jsx)("span",{className:"float-left",children:"Name: "})," ",Object(c.jsx)("span",{className:"float-right",children:n})]}),Object(c.jsx)("hr",{}),Object(c.jsxs)("div",{className:"mb-2  px-2 py-2",children:[Object(c.jsx)("span",{className:"",children:"Location: "})," ",Object(c.jsx)("span",{className:"float-right",children:l})]}),Object(c.jsx)("div",{children:Object(c.jsx)("p",{className:"font-weight-bold text-center",children:parseInt(h.user.points)>=r?"DISCLAIMER : To avail the voucher visit ".concat(n," they will enter passcode for discount"):"Points required ".concat(r)})}),Object(c.jsxs)("div",{className:"mx-auto text-center",children:[h.user.points>=r?Object(c.jsx)("input",{style:{outline:"none",borderBottom:"2px solid #007bff",borderTop:0,borderLeft:0,borderRight:0},className:"w-100 mb-2 px-2 py-1",id:"passcode",placeholder:"Restaurant passcode"}):null,Object(c.jsx)("button",(t={style:{display:"block",width:"100%"},className:" mt-2 text-center mx-auto w-100 ",onClick:h.user.points>=r?function(){return function(e,s){x()({method:"post",url:"".concat(u,"/redeem-voucher"),data:{id:e,passcode:document.getElementById("passcode").value}}).then((function(e){console.log("response is=> ",e.data),O((function(c){return Object(j.a)(Object(j.a)({},c),{},{loginStatus:!0,user:Object(j.a)(Object(j.a)({},h.user),{},{points:a[s].points-h.user.points}),role:e.data.user.role})})),m("done")})).catch((function(e){m("done"),console.log("response is=> ",e.response)}))}(i,s)}:function(){}},Object(I.a)(t,"className","btn btn-primary"),Object(I.a)(t,"children",parseInt(h.user.points)>=r?"Reddem ".concat(n," Voucher"):"Need ".concat(r-h.user.points," Point to Redeem")),t))]})]})},s)}))})]})})}function B(){var e=v();return Object(c.jsxs)("div",{className:"wrapper",children:[Object(c.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(c.jsx)("a",{className:"navbar-brand",href:"#",children:e.user.userName}),Object(c.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(c.jsx)("span",{className:"navbar-toggler-icon"})}),Object(c.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarText",children:[Object(c.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(c.jsx)("li",{className:"nav-item active",children:Object(c.jsx)(i.b,{to:"/",children:Object(c.jsxs)("a",{className:"nav-link",children:["Home ",Object(c.jsx)("span",{className:"sr-only",children:"(current)"})]})})}),Object(c.jsx)("li",{className:"nav-item active",children:Object(c.jsx)(i.b,{to:"/checkorders",children:Object(c.jsxs)("a",{className:"nav-link",children:["See Orders",Object(c.jsx)("span",{className:"sr-only"})]})})}),Object(c.jsx)("li",{className:"nav-item active",children:Object(c.jsx)(i.b,{to:"/add-restaurant",children:Object(c.jsxs)("a",{className:"nav-link",children:["Add Restaurant",Object(c.jsx)("span",{className:"sr-only"})]})})}),Object(c.jsx)("li",{className:"nav-item active",children:Object(c.jsx)(i.b,{to:"/add-product",children:Object(c.jsxs)("a",{className:"nav-link",children:["Add Product",Object(c.jsx)("span",{className:"sr-only"})]})})})]}),Object(c.jsx)(S,{})]})]}),Object(c.jsx)("main",{children:Object(c.jsx)("div",{className:"main-section",children:Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{className:"main-section-data",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-lg-3 col-md-4 pd-left-none no-pd",children:Object(c.jsx)("div",{className:"main-left-sidebar no-margin",children:Object(c.jsx)("div",{className:"user-data full-width",children:Object(c.jsxs)("div",{className:"user-profile",children:[Object(c.jsx)("div",{className:"username-dt",children:Object(c.jsx)("div",{className:"usr-pic"})}),Object(c.jsx)("div",{className:"user-specs",children:Object(c.jsx)("h3",{children:"Add Restaurant"})})]})})})}),Object(c.jsx)("div",{className:"col-lg-6 col-md-8 no-pd",children:Object(c.jsx)("div",{className:"main-ws-sec",children:Object(c.jsx)("form",{onSubmit:function(e){e.preventDefault(),x()({method:"post",url:u+"/add-restaurant",data:{name:document.getElementById("name").value,location:document.getElementById("location").value,passcode:document.getElementById("passcode").value,discount:document.getElementById("discount").value,points:document.getElementById("points").value}}).then((function(e){console.log("response",e),alert("added succesfully")}),(function(e){alert(e),console.log("error is=>",e)}))},children:Object(c.jsxs)("div",{className:"form-row align-items-center",children:[Object(c.jsx)("div",{className:"col-md-5",children:Object(c.jsx)("input",{type:"text",className:"form-control mb-2",id:"name",placeholder:"Restaurant Name"})}),Object(c.jsx)("div",{className:"col-md-5",children:Object(c.jsx)("div",{className:"input-group mb-2",children:Object(c.jsx)("input",{type:"text",className:"form-control",id:"location",placeholder:"Location"})})}),Object(c.jsx)("div",{className:"col-md-5",children:Object(c.jsx)("div",{className:"input-group mb-2",children:Object(c.jsx)("input",{type:"type",className:"form-control",id:"passcode",placeholder:"Voucher passcode"})})}),Object(c.jsx)("div",{className:"col-md-5",children:Object(c.jsx)("div",{className:"input-group mb-2",children:Object(c.jsx)("input",{type:"text",className:"form-control",id:"discount",placeholder:"Discount to be given"})})}),Object(c.jsx)("div",{className:"col-md-5",children:Object(c.jsx)("div",{className:"input-group mb-2",children:Object(c.jsx)("input",{type:"text",className:"form-control",id:"points",placeholder:"Voucher points"})})}),Object(c.jsx)("div",{className:"col-md-12 mx-auto ",children:Object(c.jsx)("button",{type:"submit",className:"btn btn-primary mb-2",children:"Add Restaurant"})})]})})})})]})})})})})]})}function _(){var e=v();return Object(c.jsxs)("div",{className:"wrapper",children:[Object(c.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(c.jsx)("a",{className:"navbar-brand",href:"#",children:e.user.userName}),Object(c.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(c.jsx)("span",{className:"navbar-toggler-icon"})}),Object(c.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarText",children:[Object(c.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(c.jsx)("li",{className:"nav-item active",children:Object(c.jsx)(i.b,{to:"/",children:Object(c.jsxs)("a",{className:"nav-link",children:["Home ",Object(c.jsx)("span",{className:"sr-only",children:"(current)"})]})})}),Object(c.jsx)("li",{className:"nav-item active",children:Object(c.jsx)(i.b,{to:"/checkorders",children:Object(c.jsxs)("a",{className:"nav-link",children:["See Orders",Object(c.jsx)("span",{className:"sr-only"})]})})}),Object(c.jsx)("li",{className:"nav-item active",children:Object(c.jsx)(i.b,{to:"/add-restaurant",children:Object(c.jsxs)("a",{className:"nav-link",children:["Add Restaurant",Object(c.jsx)("span",{className:"sr-only"})]})})}),Object(c.jsx)("li",{className:"nav-item active",children:Object(c.jsx)(i.b,{to:"/add-product",children:Object(c.jsxs)("a",{className:"nav-link",children:["Add Product",Object(c.jsx)("span",{className:"sr-only"})]})})})]}),Object(c.jsx)(S,{})]})]}),Object(c.jsx)("main",{children:Object(c.jsx)("div",{className:"main-section",children:Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{className:"main-section-data",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-lg-3 col-md-4 pd-left-none no-pd",children:Object(c.jsx)("div",{className:"main-left-sidebar no-margin",children:Object(c.jsx)("div",{className:"user-data full-width",children:Object(c.jsxs)("div",{className:"user-profile",children:[Object(c.jsx)("div",{className:"username-dt",children:Object(c.jsx)("div",{className:"usr-pic"})}),Object(c.jsx)("div",{className:"user-specs",children:Object(c.jsx)("h3",{children:"Add New Materials"})})]})})})}),Object(c.jsx)("div",{className:"col-lg-6 col-md-8 no-pd",children:Object(c.jsx)("div",{className:"main-ws-sec",children:Object(c.jsx)("form",{onSubmit:function(e){console.log("url is=>",u),e.preventDefault(),x()({method:"post",url:"".concat(u,"/add-materials"),data:{name:document.getElementById("name").value,url:document.getElementById("imageurl").value}}).then((function(e){console.log("response",e),alert("added succesfully"),document.getElementById("imageurl").value="",document.getElementById("name").value=""}),(function(e){alert(e),console.log("error is=>",e)}))},children:Object(c.jsxs)("div",{className:"form-row align-items-center",children:[Object(c.jsx)("div",{className:"col-md-5",children:Object(c.jsx)("input",{type:"text",className:"form-control mb-2",id:"name",placeholder:"Material Name"})}),Object(c.jsx)("div",{className:"col-md-5",children:Object(c.jsx)("div",{className:"input-group mb-2",children:Object(c.jsx)("input",{type:"text",className:"form-control",id:"imageurl",placeholder:"Image url"})})}),Object(c.jsx)("div",{className:"col-md-12 mx-auto ",children:Object(c.jsx)("button",{type:"submit",className:"btn btn-primary mb-2",children:"Add Material"})})]})})})})]})})})})})]})}function D(){var e=v();return Object(c.jsxs)(i.a,{children:[!1===e.loginStatus?Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(d.c,{children:[Object(c.jsx)(d.a,{exact:!0,path:"/",children:Object(c.jsx)(f,{})}),Object(c.jsx)(d.a,{path:"/signup",children:Object(c.jsx)(y,{})}),Object(c.jsx)(d.a,{path:"/forget-password",children:Object(c.jsx)(T,{})})]})}):null,"user"===e.role&&!0===e.loginStatus?Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(d.c,{children:[Object(c.jsx)(d.a,{exact:!0,path:"/",children:Object(c.jsx)(C,{})}),Object(c.jsx)(d.a,{exact:!0,path:"/my-requests",children:Object(c.jsx)(P,{})}),Object(c.jsx)(d.a,{exact:!0,path:"/redeem-voucher",children:Object(c.jsx)(A,{})}),Object(c.jsx)(d.a,{path:"*",children:Object(c.jsx)(C,{})})]})}):null,"admin"===e.role&&!0===e.loginStatus?Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(d.c,{children:[Object(c.jsx)(d.a,{exact:!0,path:"/",children:Object(c.jsx)(q,{})}),Object(c.jsx)(d.a,{path:"/add-restaurant",children:Object(c.jsx)(B,{})}),Object(c.jsx)(d.a,{path:"/add-product",children:Object(c.jsx)(_,{})})]})}):null]})}function F(){return Object(c.jsx)(D,{})}r.a.render(Object(c.jsx)(g,{children:Object(c.jsx)(F,{})}),document.getElementById("root"))},14:function(e,s,a){},15:function(e,s,a){},23:function(e,s,a){},24:function(e,s,a){},25:function(e,s,a){},26:function(e,s,a){},27:function(e,s,a){},76:function(e,s,a){}},[[132,1,2]]]);
//# sourceMappingURL=main.ffcf5ba4.chunk.js.map